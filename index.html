<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026 ìƒˆí•´ ì§„ì§œ ë§ì”€ ë½‘ê¸°</title>
    <style>
        body { font-family: 'Nanum Myeongjo', serif; background-color: #f4f1ea; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
        .container { text-align: center; background: white; padding: 3rem; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.05); max-width: 80%; }
        h1 { color: #4a4a4a; font-size: 1.5rem; margin-bottom: 2rem; }
        #verse-content { font-size: 1.3rem; line-height: 1.8; margin-bottom: 1.5rem; min-height: 100px; color: #2c3e50; white-space: pre-wrap; word-break: keep-all; }
        #verse-ref { font-size: 1rem; color: #95a5a6; margin-bottom: 2rem; }
        button { background-color: #c0a080; color: white; border: none; padding: 12px 25px; border-radius: 50px; cursor: pointer; font-size: 1rem; transition: 0.3s; }
        button:disabled { background-color: #ccc; cursor: not-allowed; }
        #status { font-size: 0.8rem; color: #aaa; margin-top: 10px; }
    </style>
</head>
<body>

<div class="container">
    <h1>ğŸ“– 2026 ìƒˆí•´ í•˜ë‚˜ë‹˜ì´ ì£¼ì‹œëŠ” ì§„ì§œ ë§ì”€</h1>
    <div id="verse-content">ì„±ê²½ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤...</div>
    <div id="verse-ref"></div>
    <button onclick="drawVerse()" id="draw-btn" disabled>ë§ì”€ ë½‘ê¸°</button>
    <div id="status"></div>
</div>

<script>
    let bibleData = [];

    // 1. í˜ì´ì§€ ë¡œë“œ ì‹œ ì„±ê²½ ë°ì´í„° ì „ì²´ë¥¼ ë¯¸ë¦¬ ê°€ì ¸ì˜´ (ì•½ 4MB)
    // ì•„ë˜ ì£¼ì†ŒëŠ” ê¹ƒí—ˆë¸Œì— ê³µê°œëœ ê°œì—­í•œê¸€ JSON ë°ì´í„°ì…ë‹ˆë‹¤.
    window.onload = async function() {
        const status = document.getElementById('status');
        const contentDiv = document.getElementById('verse-content');
        const btn = document.getElementById('draw-btn');

        try {
            // ì˜¤í”ˆì†ŒìŠ¤ ì„±ê²½ ë°ì´í„°(JSON) ë¡œë“œ
            const response = await fetch('https://raw.githubusercontent.com/thebeon/bible-json/master/ko_ko.json');
            if (!response.ok) throw new Error();
            
            const data = await response.json();
            // ë°ì´í„° êµ¬ì¡°ì— ë”°ë¼ í•„ìš”í•œ ë°°ì—´ ì¶”ì¶œ
            bibleData = data.verses || data; 
            
            contentDiv.innerText = "ë°ì´í„° ë¡œë“œ ì™„ë£Œ!\nì•„ë˜ ë²„íŠ¼ì„ ëˆŒëŸ¬ ë§ì”€ì„ ë½‘ìœ¼ì„¸ìš”.";
            btn.disabled = false;
            status.innerText = `ì´ ${bibleData.length.toLocaleString()}êµ¬ì ˆ ì¤€ë¹„ë¨`;
        } catch (e) {
            contentDiv.innerText = "ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.\në„¤íŠ¸ì›Œí¬ ìƒíƒœë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.";
            console.error(e);
        }
    };

    // 2. ì´ë¯¸ ë¡œë“œëœ ë°ì´í„°ì—ì„œ ëœë¤ìœ¼ë¡œ í•˜ë‚˜ ì„ íƒ
    function drawVerse() {
        if (bibleData.length === 0) return;

        const randomIndex = Math.floor(Math.random() * bibleData.length);
        const v = bibleData[randomIndex];

        // ë°ì´í„° í•„ë“œëª…ì€ ê°€ì ¸ì˜¤ëŠ” ì†ŒìŠ¤ì— ë”°ë¼ ë‹¤ë¥¼ ìˆ˜ ìˆìŒ (í™•ì¸ í•„ìš”)
        // ë³´í†µ book_name, chapter, verse, text ìˆœì„œ
        const content = v.text;
        const ref = `- ${v.book_name} ${v.chapter}:${v.verse} (ê°œì—­í•œê¸€) -`;

        document.getElementById('verse-content').innerText = `"${content}"`;
        document.getElementById('verse-ref').innerText = ref;
    }
</script>
</body>
</html>
